!function(c){"use strict";c(function(){const a=c("#timeframe_manual_date");var e=c("#cmb2_multiselect_datepicker");e.length&&e.datepicker({onSelect:function(e,t){var n,o,i=c(this).datepicker("getDate");n=(i=i).getDate(),o=i.getMonth()+1,n=n<=9?"0"+n:n,o=o<=9?"0"+o:o,i=i.getFullYear()+"-"+o+"-"+n,0<a.val().length?","!==a.val().slice(-1)?a.val(a.val()+","+i):a.val(a.val()+i):a.val(i+",")}})})}(jQuery),function(l){"use strict";l(function(){function e(e){l.each(e,function(){l(this).parents(".cmb-row").hide()})}function t(e){l.each(e,function(){l(this).parents(".cmb-row").show()})}function n(){(s.prop("checked")?t:e)(r)}function o(){c.prop("checked")?(t(s),n()):(e(s),e(r))}function i(){a.prop("checked")?(e(c),e(s),e(r)):(t(c),t(s),n())}const a=l("#_cb_use_global_settings"),c=l("#_cb_allow_lockdays_in_range"),s=l("#_cb_count_lockdays_in_range"),r=l("#_cb_count_lockdays_maximum");n(),s.change(function(){n()}),o(),c.change(function(){o()});i(),a.change(function(){i()})})}(jQuery),function(o){"use strict";o(function(){o("#cmb2-metabox-migration #migration-start").on("click",function(e){e.preventDefault(),o("#migration-state").show(),o("#migration-in-progress").show();const t=e=>{o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_migration",data:e,geodata:o("#get-geo-locations").is(":checked")},function(e){let n=!0;o.each(e,function(e,t){o("#"+e+"-index").text(t.index),o("#"+e+"-count").text(t.count),"0"==t.complete&&(n=!1)}),n?(o("#migration-in-progress").hide(),o("#migration-done").show()):t(e)})};t(!1)}),o("#cmb2-metabox-migration #booking-update-start").on("click",function(e){e.preventDefault(),o("#booking-migration-in-progress").show(),o.post(cb_ajax_start_migration.ajax_url,{_ajax_nonce:cb_ajax_start_migration.nonce,action:"cb_start_booking_migration"}).done(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-done").show()}).fail(function(){o("#booking-migration-in-progress").hide(),o("#booking-migration-failed").show()})})})}(jQuery),function(t){"use strict";t(function(){const e=t("input[name=post_type][value=cb_restriction]").parent("form");e.find("input, select, textarea").on("keyup change paste",function(){e.find("input[name=restriction-send]").prop("disabled",!0)})})}(jQuery),function(o){"use strict";o(function(){if(o("#templates").length){const t=o("#emailtemplates_mail-booking_ics_attach");const n=[o("#emailtemplates_mail-booking_ics_event-title"),o("#emailtemplates_mail-booking_ics_event-description")],e=function(){var e;e=n,o.each(e,function(){o(this).parents(".cmb-row").show()}),t.prop("checked")||(e=n,o.each(e,function(){o(this).parents(".cmb-row").hide()}),t.prop("checked",!1))};e(),t.click(function(){e()})}})}(jQuery),function(K){"use strict";K(function(){const t=function(t,e){var n=[];return jQuery.grep(e,function(e){-1==jQuery.inArray(e,t)&&n.push(e)}),n},i=function(e){K.each(e,function(){K(this).parents(".cmb-row").hide()})},a=function(e){K.each(e,function(){K(this).parents(".cmb-row").show()})};var e=K("#cmb2-metabox-cb_timeframe-custom-fields");if(e.length){const u=K("#timeframe-repetition"),d=K("#type"),m=K("#grid"),p=K("#weekdays1");var e=K("#start-time"),n=K("#end-time"),o=K("#title-timeframe-rep-config");const f=K("#repetition-start"),g=K("#repetition-end"),h=K("#full-day"),_=K("#title-timeframe-booking-codes"),b=K("#show-booking-codes"),k=K("#create-booking-codes");var c=K("#booking-codes-download"),s=K("#booking-codes-list"),r=K("#email-booking-codes-list"),l=K("#cron-email-booking-code");const v=K("#timeframe-bookingcodes-sendall"),w=K("#email-booking-codes-list-all"),y=K("#email-booking-codes-list-current"),x=K("#email-booking-codes-list-next");K("#timeframe_manual_date");const j=K("#cmb2_multiselect_datepicker"),Q=K(".cmb2-id-timeframe-manual-date");var E=K("#timeframe-max-days"),G=K("#timeframe-advance-booking-days"),H=K("#booking-startday-offset"),I=K("#title-bookings-config"),J=K("#allowed_user_roles");const D=[o,h,e,n,p,f,g,m],C=[h,e,n,m,f,g],A=[m,e,n],F=[k,s,c,b,r,l],M=[b,s,c,r,l];o=K("input[name=post_type][value=cb_timeframe]").parent("form");const S=[E,G,H,J,I],Y=function(){var e=K("option:selected",d).val();K("option:selected",u).val();("2"===e?(a(S),a):(i(S),i))(_)},q=(Y(),d.change(function(){Y()}),function(){K("option:selected",u).val();(h.prop("checked")?(m.prop("selected",!1),i):a)(A)}),z=(q(),h.change(function(){q()}),function(){var e=K("option:selected",u).val();K("option:selected",d).val();e?("norep"==e?(a(C),i(t(C,D))):(a(D),i(t(D,C))),("manual"===e?(Q.show(),j.show(),i(f),i):(Q.hide(),j.hide(),a(f),a))(g),"w"===e?p.parents(".cmb-row").show():(p.parents(".cmb-row").hide(),e=K("input[name*=weekdays]"),K.each(e,function(){K(this).prop("checked",!1)})),q()):(i(C),i(D))}),B=(z(),u.change(function(){z()}),function(){var e=h.prop("checked"),t=d.val(),n=f.val(),o=g.val();i(F),n&&e&&"2"===t&&(a(F),k.prop("checked")?(console.log("hello"),a(M)):(i(M),b.prop("checked",!1)),o?v.show():v.hide())});B(),o.find("input, select, textarea").on("keyup change paste",function(){w.addClass("disabled"),y.addClass("disabled"),x.addClass("disabled")});e=[f,g,h,d,k];K.each(e,function(e,t){t.change(function(){B()})})}})}(jQuery),function(e){"use strict";e(function(){e(document).tooltip()})}(jQuery);